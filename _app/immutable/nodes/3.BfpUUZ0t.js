import"../chunks/DsnmJJEf.js";import{i as U}from"../chunks/DGj3NIoP.js";import{at as W,a2 as K,u as Q,au as X,j as Z,x as b,av as $,p as ee,f as x,e as te,D as ae,h as l,G as se,b as d,c as re,g,d as z,aw as ne,s as o,m as w,r as p,ar as G,C as L,ax as le}from"../chunks/DiSQICQI.js";import{i as C}from"../chunks/Cn6pwiWt.js";import{r as O,e as oe,b as ie,i as ve}from"../chunks/DJi4QABT.js";import{a as ce}from"../chunks/B-yKL_D9.js";function D(e,s,i=s){var v=new WeakSet;W(e,"input",async n=>{var a=n?e.defaultValue:e.value;if(a=I(e)?M(a):a,i(a),b!==null&&v.add(b),await K(),a!==(a=s())){var k=e.selectionStart,_=e.selectionEnd;e.value=a??"",_!==null&&(e.selectionStart=k,e.selectionEnd=Math.min(_,e.value.length))}}),(Z&&e.defaultValue!==e.value||Q(s)==null&&e.value)&&(i(I(e)?M(e.value):e.value),b!==null&&v.add(b)),X(()=>{var n=s();if(e===document.activeElement){var a=$??b;if(v.has(a))return}I(e)&&n===M(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function I(e){var s=e.type;return s==="number"||s==="range"}function M(e){return e===""?null:+e}function de(e){return function(...s){var i=s[0];return i.preventDefault(),e?.apply(this,s)}}var ue=x('<span class="text-light-accent dark:text-dark-accent svelte-1bv7ezn">â–Œ</span>'),fe=x('<span class="inline-flex items-center gap-[0.5vw] svelte-1bv7ezn"><span class="loading-dots svelte-1bv7ezn"></span></span>'),me=x('<span class="text-green-800 dark:text-green-600 svelte-1bv7ezn">ðŸ—¸ Sent!</span>'),pe=x('<span class="text-red-900 svelte-1bv7ezn">âœ— Failed</span>'),he=x(`<section class="section grid-responsive smooth-trans-8 bg-light-background pb-[10vh] pt-[9vh] text-light-text dark:bg-dark-background dark:text-dark-text svelte-1bv7ezn"><div class="flex flex-col items-start justify-center gap-[1.7vh] text-left svelte-1bv7ezn"><h1 class="title-font title-sizing smooth-trans-8 font-bold svelte-1bv7ezn">Get in Touch</h1> <p class="text-sizing-2 smooth-trans-8 w-full text-light-text/80 dark:text-dark-text/80 md:w-[90%] lg:w-[85%] svelte-1bv7ezn">Interested in collaborating, hiring, or discussing a project?<br class="svelte-1bv7ezn"/>Send me a message and I'll
			get back to you soon.</p> <form class="mt-[4vh] flex w-full max-w-[70vw] flex-col gap-[2vh] sm:gap-[2vh] md:max-w-[55vw] md:gap-[1.8vh] lg:gap-[2vh] svelte-1bv7ezn"><input required type="text" placeholder="Your Name" class="text-sizing-1 input-field smooth-trans-4 svelte-1bv7ezn"/> <input required type="email" placeholder="Your Email" class="text-sizing-1 input-field smooth-trans-4 svelte-1bv7ezn"/> <textarea required rows="3" placeholder="Your Message" class="text-sizing-1 input-field smooth-trans-4 resize-none overflow-hidden svelte-1bv7ezn"></textarea> <button type="submit" class="standard-button button-text-sizing hover:scale-[1.04] active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-40 svelte-1bv7ezn"><!></button></form></div></section>`);function we(e,s){ee(s,!1);let i=w(""),v=w(""),n=w(""),a=w("idle");const k="https://my-site-api.vercel.app/api";async function _(){o(a,"sending");try{const t=new AbortController,r=setTimeout(()=>t.abort(),1e4),u=await fetch(`${k}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l(i),email:l(v),message:l(n)}),signal:t.signal});if(clearTimeout(r),u.ok)o(a,"sent"),o(i,""),o(v,""),o(n,"");else{const h=await u.json().catch(()=>({}));console.error("Server responded with error:",h),o(a,"error")}}catch(t){t instanceof Error?t.name==="AbortError"?console.error("Request timed out"):console.error("Network error:",t):console.error("Unknown error",t),o(a,"error")}}function P(t){const r=()=>{t.style.height="auto",t.style.height=`${t.scrollHeight}px`};return t.addEventListener("input",r),r(),{destroy(){t.removeEventListener("input",r)}}}U();var S=he(),N=g(S),E=z(g(N),4),j=g(E);O(j);var A=z(j,2);O(A);var y=z(A,2);ne(y),te(()=>D(y,()=>l(n),t=>o(n,t))),ce(y,t=>P?.(t));var T=z(y,2),R=g(T);{var V=t=>{var r=fe(),u=g(r);oe(u,4,()=>Array(14),ve,(h,Y,c)=>{var f=ue();ie(f,`animation-delay: ${c*.2}s`),d(h,f)}),p(u),p(r),d(t,r)},B=t=>{var r=G(),u=L(r);{var h=c=>{var f=me();d(c,f)},Y=c=>{var f=G(),F=L(f);{var H=m=>{var q=pe();d(m,q)},J=m=>{var q=le("Send Message");d(m,q)};C(F,m=>{l(a)==="error"?m(H):m(J,!1)},!0)}d(c,f)};C(u,c=>{l(a)==="sent"?c(h):c(Y,!1)},!0)}d(t,r)};C(R,t=>{l(a)==="sending"?t(V):t(B,!1)})}p(T),p(E),p(N),p(S),ae(()=>T.disabled=l(a)==="sending"),D(j,()=>l(i),t=>o(i,t)),D(A,()=>l(v),t=>o(v,t)),se("submit",E,de(_)),d(e,S),re()}export{we as component};
